# Sample environment configuration for Phoenix Real Estate Data Collector
# Copy this to .env and update with your actual values
#
# IMPORTANT: 
# - Never commit your actual .env file to version control
# - Ensure .env is listed in .gitignore  
# - All placeholder values should be replaced with real credentials
# - For Windows: Use 'net start MongoDB' (as admin) to start MongoDB service

# ==============================================================================
# REQUIRED CONFIGURATION
# ==============================================================================

# Environment setting (REQUIRED)
# Options: development, testing, production
# This determines which configuration files are loaded
ENVIRONMENT=development

# Database configuration (REQUIRED)
# For MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/phoenix_real_estate
# For local MongoDB: mongodb://localhost:27017
# Environment-specific databases will be used automatically based on ENVIRONMENT
MONGODB_URL=mongodb://localhost:27017
MONGODB_DATABASE=phoenix_real_estate

# Security (REQUIRED - generate a secure 32+ character key)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=byhDwiOC_Nu05Xw--EjrqzHZ1D7-Qn2PiRHOmJrY-jQ

# Maricopa County API (REQUIRED for Maricopa data collection)
# Register at: https://mcassessor.maricopa.gov/api
# Format should be UUID: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
MARICOPA_API_KEY=12345678-90ab-cdef-1234-567890abcdef

# ==============================================================================
# OPTIONAL CONFIGURATION
# ==============================================================================

# Maricopa API Configuration (optional overrides)
MARICOPA_BASE_URL=https://mcassessor.maricopa.gov
MARICOPA_RATE_LIMIT=1000
MARICOPA_TIMEOUT=30

# Logging configuration  
LOG_LEVEL=INFO
LOG_FORMAT=text

# Collection settings
MAX_REQUESTS_PER_HOUR=100
MIN_REQUEST_DELAY=3.6
TARGET_ZIP_CODES=85031,85033,85035,85048,85083,85254

# Proxy configuration (RECOMMENDED for Phoenix MLS scraping)
# Get credentials from: https://webshare.io
WEBSHARE_USERNAME=your_username
WEBSHARE_PASSWORD=your_password
WEBSHARE_API_KEY=abcdef12-3456-7890-abcd-ef1234567890

# LLM Processing configuration
# Requires local Ollama installation: https://ollama.ai
# Service URL for Ollama (default: http://localhost:11434)
OLLAMA_URL=http://localhost:11434
# Model name (will be pulled automatically if not available)
LLM_MODEL=llama3.2:latest
# LLM request timeout in seconds
LLM_TIMEOUT=30

# Captcha solving service configuration (RECOMMENDED for Phoenix MLS)
# Get API key from https://2captcha.com or https://anti-captcha.com
CAPTCHA_API_KEY=fedcba09-8765-4321-fedc-ba0987654321
CAPTCHA_SERVICE=2captcha

# Phoenix MLS specific configuration (optional overrides)
PHOENIX_SOURCES_PHOENIX_MLS_CAPTCHA_ENABLED=true
PHOENIX_SOURCES_PHOENIX_MLS_CAPTCHA_SERVICE=2captcha
PHOENIX_SOURCES_PHOENIX_MLS_CAPTCHA_TIMEOUT=180
PHOENIX_SOURCES_PHOENIX_MLS_CAPTCHA_MAX_RETRIES=3
PHOENIX_SOURCES_PHOENIX_MLS_CAPTCHA_SCREENSHOT_ON_DETECTION=true

# Phoenix MLS rate limiting (be conservative to avoid blocks)
PHOENIX_MLS_RATE_LIMIT=60
PHOENIX_MLS_CONCURRENT_LIMIT=1

# Monitoring Configuration (REQUIRED for production)
MONITORING_ENABLED=true
MONITORING_ENDPOINT=http://localhost:9090/metrics

# Development tools (optional)
# For monitoring setup
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# ==============================================================================
# ADDITIONAL OPTIONAL CONFIGURATION
# ==============================================================================

# Request configuration
# User agent for web scraping (helps avoid bot detection)
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# Global timeout for HTTP requests (in seconds)
REQUEST_TIMEOUT=30

# Maximum number of retries for failed requests
MAX_RETRIES=3

# API rate limiting (requests per minute)
API_RATE_LIMIT=60

# Notification configuration (for error alerts)
# Uncomment and configure if you want email notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@example.com
# SMTP_PASSWORD=your_app_specific_password
# NOTIFICATION_EMAIL=admin@example.com

# Performance monitoring (optional)
# Sentry DSN for error tracking in production
# SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id

# GitHub Actions configuration (for automated workflows)
# Only needed if using GitHub Actions for automated data collection
# GITHUB_TOKEN=your_github_personal_access_token

# Alternative proxy services (if not using WebShare)
# Option 1: SmartProxy
# SMARTPROXY_USERNAME=your_smartproxy_username
# SMARTPROXY_PASSWORD=your_smartproxy_password
# SMARTPROXY_ENDPOINT=gate.smartproxy.com:10000

# Option 2: Generic proxy
# PROXY_USERNAME=your_proxy_username
# PROXY_PASSWORD=your_proxy_password
# PROXY_ENDPOINT=http://proxy.example.com:8080

# Debug mode (set to True for development)
DEBUG=False

# ==============================================================================
# NOTES AND TIPS
# ==============================================================================
# 1. MongoDB Setup:
#    - Install MongoDB locally: https://www.mongodb.com/try/download/community
#    - Start service: 'net start MongoDB' (Windows, run as Administrator)
#    - Default connection: mongodb://localhost:27017
#
# 2. Maricopa API:
#    - Register for API key at: https://mcassessor.maricopa.gov/api
#    - Current success rate: ~84%
#
# 3. Phoenix MLS Scraping:
#    - Requires proxy service (WebShare recommended)
#    - May need CAPTCHA solving service (2captcha recommended)
#    - Be conservative with rate limits to avoid blocks
#
# 4. Local LLM Processing:
#    - Install Ollama: https://ollama.ai
#    - Pull model: 'ollama pull llama2:7b'
#    - Default endpoint: http://localhost:11434
#
# 5. Security:
#    - Generate SECRET_KEY: python -c "import secrets; print(secrets.token_urlsafe(32))"
#    - Use environment-specific .env files for different deployments
#    - Store production credentials in secure vault, not in files